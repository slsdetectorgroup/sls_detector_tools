

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>sls_detector_tools package &mdash; sls_detector_tools pre-alpha documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="sls_detector_tools pre-alpha documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> sls_detector_tools
          

          
          </a>

          
            
            
              <div class="version">
                pre-alpha
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="instruments.html">Instruments</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="root_helper.html">PyROOT Helper</a></li>
<li class="toctree-l1"><a class="reference internal" href="receiver.html">ZmqReceiver</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sls_detector_tools</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>sls_detector_tools package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/sls_detector_tools.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sls-detector-tools-package">
<h1>sls_detector_tools package<a class="headerlink" href="#sls-detector-tools-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-sls_detector_tools.calibration">
<span id="sls-detector-tools-calibration-module"></span><h2>sls_detector_tools.calibration module<a class="headerlink" href="#module-sls_detector_tools.calibration" title="Permalink to this headline">¶</a></h2>
<p>The main funtions to record and fit calibration data. An example on how to
use the functions can be found in <strong>sls_detector_tools/calibration/trim_and
_calibrate_vrf.py</strong></p>
<p>The fitting relies on the routines in sls_cmodule</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Should we moved to scaled fits for all detectors?</p>
</div>
<dl class="function">
<dt id="sls_detector_tools.calibration.do_scurve">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">do_scurve</code><span class="sig-paren">(</span><em>detector</em>, <em>xraybox</em>, <em>step=40</em>, <em>mask=None</em>, <em>thrange=(0</em>, <em>2000)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#do_scurve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.do_scurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Take scurve data for calibration. When not using the Xray box pass a
dummy xray box to the function and make sure that shutter is open and
target is correct!</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.do_scurve_fit">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">do_scurve_fit</code><span class="sig-paren">(</span><em>mask=None</em>, <em>fname=None</em>, <em>thrange=(0</em>, <em>2000)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#do_scurve_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.do_scurve_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Per pixel scurve fit from saved data and save the result in an npy file</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.do_scurve_fit_scaled">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">do_scurve_fit_scaled</code><span class="sig-paren">(</span><em>mask=None</em>, <em>fname=None</em>, <em>thrange=(0</em>, <em>2000)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#do_scurve_fit_scaled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.do_scurve_fit_scaled" title="Permalink to this definition">¶</a></dt>
<dd><p>Per pixel scurve fit from saved data and save the result in an npy file</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.do_trimbit_scan">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">do_trimbit_scan</code><span class="sig-paren">(</span><em>detector</em>, <em>xraybox</em>, <em>step=2</em>, <em>data_mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#do_trimbit_scan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.do_trimbit_scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Fuction to setup the detector with correct Vcmp and Vcp and then
performa a trimbit scan</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.do_vrf_scan">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">do_vrf_scan</code><span class="sig-paren">(</span><em>detector</em>, <em>xraybox</em>, <em>pixelmask=None</em>, <em>start=1500</em>, <em>stop=3800</em>, <em>step=30</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#do_vrf_scan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.do_vrf_scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a vrf scan and fits the differential of the scurve for each halfmodule
in the detector system.</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Check the multi module system support</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>detector</strong> (<em>SlsDetector</em>) – The detector that should be scanned</li>
<li><strong>xraybox</strong> (<a class="reference internal" href="instruments.html#sls_detector_tools.XrayBox" title="sls_detector_tools.XrayBox"><em>XrayBox</em></a><em> or </em><a class="reference internal" href="#sls_detector_tools.xray_box.DummyBox" title="sls_detector_tools.xray_box.DummyBox"><em>DummyBox</em></a>) – Used for selecting the right target and controlling the shutter</li>
<li><strong>pixelmask</strong> (<em>np_array</em><em>(</em><em>bool</em><em>)</em><em>, </em><em>optional</em>) – Numpy array of bools of the same size and one frame or None to disable</li>
<li><strong>start</strong> (<em>int</em><em>, </em><em>optional</em>) – start value of the scan</li>
<li><strong>stop</strong> (<em>int</em><em>, </em><em>optional</em>) – end value of the scan</li>
<li><strong>step</strong> (<em>int</em><em>, </em><em>optional</em>) – stepsize</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vrf</strong> – list of vrf values for each half module</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.find_and_write_trimbits">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">find_and_write_trimbits</code><span class="sig-paren">(</span><em>detector</em>, <em>tau=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#find_and_write_trimbits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.find_and_write_trimbits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.find_and_write_trimbits_scaled">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">find_and_write_trimbits_scaled</code><span class="sig-paren">(</span><em>fr_fname</em>, <em>tb_fname</em>, <em>scale</em>, <em>tau=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#find_and_write_trimbits_scaled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.find_and_write_trimbits_scaled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.find_initial_parameters">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">find_initial_parameters</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>thrange=(0</em>, <em>2200)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#find_initial_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.find_initial_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to find the best initial parameters for an per pixel scurve fit
by using the global average of a chip or module.
:param x: x values
:type x: numpy_array
:param y: y values
:type y: numpy_array
:param thrange: low and high edge for the fitting
:type thrange: (low, high)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>par</strong> (<em>numpy_array</em>) – Array with the initial parameters of the fit</li>
<li><em>.. todo::</em> – Remove hardcoded values where possible and be more flexible
with the range</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.find_mean_and_set_vcmp">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">find_mean_and_set_vcmp</code><span class="sig-paren">(</span><em>detector</em>, <em>fit_result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#find_mean_and_set_vcmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.find_mean_and_set_vcmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the mean value of the inflection point per chip and set the <strong>Vcmp</strong>
of that chip to the right value</p>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<p class="last">Merge to one code for all geomtetries</p>
</div>
<p>Supported geometries</p>
<ul class="simple">
<li>250k</li>
<li>500k</li>
<li>2M</li>
<li>9M</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>detector</strong> (<em>SlsDetector</em>) – The detector that should be used. Can be None to skip the set dac
part and only return values</li>
<li><strong>fit_result</strong> (<em>numpy_array</em>) – An array with the result of the per pixel scurve fit</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>vcmp</strong> (<em>list</em>) – vcmp for each chip</li>
<li><strong>vcp</strong> (<em>list</em>) – vcp for each half module</li>
<li><strong>lines</strong> (<em>list</em>) – list of lines that can be used with the sls_detector_put</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.find_mean_and_std">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">find_mean_and_std</code><span class="sig-paren">(</span><em>fit_result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#find_mean_and_std"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.find_mean_and_std" title="Permalink to this definition">¶</a></dt>
<dd><p>Find mean and standard deviation for each chip in the detector</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.generate_calibration_report">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">generate_calibration_report</code><span class="sig-paren">(</span><em>thrange=(100</em>, <em>1900)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#generate_calibration_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.generate_calibration_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a calibration report for the current gain.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Follows the old style of calibration and should be updated. Still
gives a valuble insigt of the calibration for this gain though.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.generate_mask">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">generate_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#generate_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.generate_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate mask of bad pixels using calibration data
TODO! verify with multi module systems</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.get_data_fname">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">get_data_fname</code><span class="sig-paren">(</span><em>run_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#get_data_fname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.get_data_fname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the filename of the npz file with the vcmp data. The filename
is built from det_id, target and run_id as well as calibration.type.
Allows for convenient access during calibration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>run_id</strong> (<em>int</em><em>, </em><em>optional</em>) – Used only if requesting a special run_id otherwise fetched from
cfg.calibration.run_id</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>fname</strong> – filename including .npz ending</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cfg</span><span class="o">.</span><span class="n">det_id</span> <span class="o">=</span> <span class="n">T45</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">run_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">calibration</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">Cr</span>
<span class="n">get_data_fname</span><span class="p">()</span>
<span class="o">&gt;&gt;</span> <span class="n">T45_vcmp_CrXRF_1</span><span class="o">.</span><span class="n">npz</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.get_fit_fname">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">get_fit_fname</code><span class="sig-paren">(</span><em>run_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#get_fit_fname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.get_fit_fname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the file containing the fit result. Shares the structure
with the data file but ends with <strong>_fit.npy</strong> instead</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>run_id</strong> (<em>int</em><em>, </em><em>optional</em>) – Used only if requesting a special run_id otherwise fetched from
cfg.calibration.run_id</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>fname</strong> – name of the fit file</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.get_halfmodule_mask">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">get_halfmodule_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#get_halfmodule_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.get_halfmodule_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the masks for all half modules in the detector using the geometry from
cfg.geometry</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list containing slice objects to select each half module</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list with slices</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code> – If the selected geometry is not supported</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Select a half module from a module</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">hm</span> <span class="o">=</span> <span class="n">get_halfmodule_mask</span><span class="p">()</span>
<span class="n">data_from_halfmodule</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">hm</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.get_tbdata_fname">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">get_tbdata_fname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#get_tbdata_fname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.get_tbdata_fname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the npz file containing the trimbit data. <em>Note that
this file does not have a run_id</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>fname</strong> – Name of the file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.get_trimbit_fname">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">get_trimbit_fname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#get_trimbit_fname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.get_trimbit_fname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the trimbit files without the file ending. This is
because when passed by commandline to the slsDetectorSoftware this then
loads trimbits for all modules based on their id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>fname</strong> – Name of the file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.get_vrf_fname">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">get_vrf_fname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#get_vrf_fname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.get_vrf_fname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the npz file containing the vrf scan data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Filename</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.load_trim">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">load_trim</code><span class="sig-paren">(</span><em>detector</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#load_trim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.load_trim" title="Permalink to this definition">¶</a></dt>
<dd><p>Load trimbits for the current calibration settings. Defined in
config.py</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.per_chip_global_calibration">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">per_chip_global_calibration</code><span class="sig-paren">(</span><em>swap_axes=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#per_chip_global_calibration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.per_chip_global_calibration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.rewrite_calibration_files">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">rewrite_calibration_files</code><span class="sig-paren">(</span><em>detector</em>, <em>tau=None</em>, <em>hostname=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#rewrite_calibration_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.rewrite_calibration_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Rewrite the calibration files using the center of the trimmed distributions
saved with suffix _rw, needs a connected detector</p>
<p>Specifying hostnames will use offline files only
TODO! Tau should check if a tau is already present</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.setup_detector">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">setup_detector</code><span class="sig-paren">(</span><em>detector</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#setup_detector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.setup_detector" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure that the detector is in a correct state for calibration.
Settings that are applied are taken from the config file:</p>
<ul class="simple">
<li>Number of frames</li>
<li>Period</li>
<li>Exposure time</li>
<li>Dynamic range</li>
<li>clock divider</li>
<li>trimbit used during initial scurve</li>
<li>V_trim</li>
<li>Vrs</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.take_global_calibration_data">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">take_global_calibration_data</code><span class="sig-paren">(</span><em>detector</em>, <em>xraybox</em>, <em>thrange=(0</em>, <em>2000)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#take_global_calibration_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.take_global_calibration_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sls_detector_tools.calibration.write_calibration_files">
<code class="descclassname">sls_detector_tools.calibration.</code><code class="descname">write_calibration_files</code><span class="sig-paren">(</span><em>afs=False</em>, <em>loc=False</em>, <em>afs_overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/calibration.html#write_calibration_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.calibration.write_calibration_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Write Eiger calibration files and copy to the settingsdir</p>
</dd></dl>

</div>
<div class="section" id="module-sls_detector_tools.config">
<span id="sls-detector-tools-config-module"></span><h2>sls_detector_tools.config module<a class="headerlink" href="#module-sls_detector_tools.config" title="Permalink to this headline">¶</a></h2>
<p>Created on Mon Nov 20 11:37:05 2017</p>
<p>&#64;author: l_frojdh</p>
<dl class="class">
<dt id="sls_detector_tools.config.Eiger2M">
<em class="property">class </em><code class="descclassname">sls_detector_tools.config.</code><code class="descname">Eiger2M</code><a class="reference internal" href="_modules/sls_detector_tools/config.html#Eiger2M"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.config.Eiger2M" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Backend board numbers and hostanmes for the ESRF Eiger2M</p>
<dl class="attribute">
<dt id="sls_detector_tools.config.Eiger2M.beb">
<code class="descname">beb</code><em class="property"> = [74, 71, 64, 102, 72, 73, 87, 88]</em><a class="headerlink" href="#sls_detector_tools.config.Eiger2M.beb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.Eiger2M.hostname">
<code class="descname">hostname</code><em class="property"> = ['beb074', 'beb071', 'beb064', 'beb102', 'beb072', 'beb073', 'beb087', 'beb088']</em><a class="headerlink" href="#sls_detector_tools.config.Eiger2M.hostname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sls_detector_tools.config.Eiger9M">
<em class="property">class </em><code class="descclassname">sls_detector_tools.config.</code><code class="descname">Eiger9M</code><a class="reference internal" href="_modules/sls_detector_tools/config.html#Eiger9M"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.config.Eiger9M" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Backend board numbers, hostnames and T numbers for the 9M</p>
<dl class="attribute">
<dt id="sls_detector_tools.config.Eiger9M.T">
<code class="descname">T</code><em class="property"> = [50, 77, 2, 6, 58, 60, 33, 64, 78, 30, 52, 73, 79, 62, 56, 69, 42, 59]</em><a class="headerlink" href="#sls_detector_tools.config.Eiger9M.T" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.Eiger9M.beb">
<code class="descname">beb</code><em class="property"> = [111, 70, 109, 116, 92, 91, 122, 113, 105, 121, 104, 54, 117, 125, 103, 100, 127, 106, 84, 61, 78, 76, 101, 56, 97, 96, 30, 38, 40, 29, 59, 58, 95, 94, 119, 55]</em><a class="headerlink" href="#sls_detector_tools.config.Eiger9M.beb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.Eiger9M.hostname">
<code class="descname">hostname</code><em class="property"> = ['beb111', 'beb070', 'beb109', 'beb116', 'beb092', 'beb091', 'beb122', 'beb113', 'beb105', 'beb121', 'beb104', 'beb054', 'beb117', 'beb125', 'beb103', 'beb100', 'beb127', 'beb106', 'beb084', 'beb061', 'beb078', 'beb076', 'beb101', 'beb056', 'beb097', 'beb096', 'beb030', 'beb038', 'beb040', 'beb029', 'beb059', 'beb058', 'beb095', 'beb094', 'beb119', 'beb055']</em><a class="headerlink" href="#sls_detector_tools.config.Eiger9M.hostname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sls_detector_tools.config.calibration">
<em class="property">class </em><code class="descclassname">sls_detector_tools.config.</code><code class="descname">calibration</code><a class="reference internal" href="_modules/sls_detector_tools/config.html#calibration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.config.calibration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Settings concerning the calibration</p>
<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.clean_threshold">
<code class="descname">clean_threshold</code><em class="property"> = 500</em><a class="headerlink" href="#sls_detector_tools.config.calibration.clean_threshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.clkdivider">
<code class="descname">clkdivider</code><em class="property"> = 2</em><a class="headerlink" href="#sls_detector_tools.config.calibration.clkdivider" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.dynamic_range">
<code class="descname">dynamic_range</code><em class="property"> = 32</em><a class="headerlink" href="#sls_detector_tools.config.calibration.dynamic_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.energy">
<code class="descname">energy</code><em class="property"> = None</em><a class="headerlink" href="#sls_detector_tools.config.calibration.energy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.exptime">
<code class="descname">exptime</code><em class="property"> = 3</em><a class="headerlink" href="#sls_detector_tools.config.calibration.exptime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.flags">
<code class="descname">flags</code><em class="property"> = ['nonparallel', 'continous']</em><a class="headerlink" href="#sls_detector_tools.config.calibration.flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.fname">
<code class="descname">fname</code><em class="property"> = 'run'</em><a class="headerlink" href="#sls_detector_tools.config.calibration.fname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.gain">
<code class="descname">gain</code><em class="property"> = False</em><a class="headerlink" href="#sls_detector_tools.config.calibration.gain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.global_targets">
<code class="descname">global_targets</code><em class="property"> = {'Sn': ['Ag'], 'Ag': ['Sn'], 'Mo': ['Ag'], 'Zr': ['Mo'], 'Ge': ['Cu'], 'Cu': ['Ge'], 'Fe': ['Cu'], 'Cr': ['Fe'], 'Ti': ['Cr']}</em><a class="headerlink" href="#sls_detector_tools.config.calibration.global_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.nframes">
<code class="descname">nframes</code><em class="property"> = 1</em><a class="headerlink" href="#sls_detector_tools.config.calibration.nframes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.npar">
<code class="descname">npar</code><em class="property"> = 6</em><a class="headerlink" href="#sls_detector_tools.config.calibration.npar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.nproc">
<code class="descname">nproc</code><em class="property"> = 12</em><a class="headerlink" href="#sls_detector_tools.config.calibration.nproc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.period">
<code class="descname">period</code><em class="property"> = 0</em><a class="headerlink" href="#sls_detector_tools.config.calibration.period" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.plot">
<code class="descname">plot</code><em class="property"> = True</em><a class="headerlink" href="#sls_detector_tools.config.calibration.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.run_id">
<code class="descname">run_id</code><em class="property"> = 0</em><a class="headerlink" href="#sls_detector_tools.config.calibration.run_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.run_id_trimmed">
<code class="descname">run_id_trimmed</code><em class="property"> = 1</em><a class="headerlink" href="#sls_detector_tools.config.calibration.run_id_trimmed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.run_id_untrimmed">
<code class="descname">run_id_untrimmed</code><em class="property"> = 0</em><a class="headerlink" href="#sls_detector_tools.config.calibration.run_id_untrimmed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.std">
<code class="descname">std</code><em class="property"> = 5</em><a class="headerlink" href="#sls_detector_tools.config.calibration.std" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.target">
<code class="descname">target</code><em class="property"> = False</em><a class="headerlink" href="#sls_detector_tools.config.calibration.target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.threshold">
<code class="descname">threshold</code><em class="property"> = 1200</em><a class="headerlink" href="#sls_detector_tools.config.calibration.threshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.tp_dynamic_range">
<code class="descname">tp_dynamic_range</code><em class="property"> = 16</em><a class="headerlink" href="#sls_detector_tools.config.calibration.tp_dynamic_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.tp_exptime">
<code class="descname">tp_exptime</code><em class="property"> = 0.01</em><a class="headerlink" href="#sls_detector_tools.config.calibration.tp_exptime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.trimval">
<code class="descname">trimval</code><em class="property"> = 32</em><a class="headerlink" href="#sls_detector_tools.config.calibration.trimval" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Possible calibration types</em> – XRF = X-ray fluorescence
beam  = Monochromatic (synchrotron)
TP  = Test pulses</p>
</dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.type">
<code class="descname">type</code><em class="property"> = 'XRF'</em><a class="headerlink" href="#sls_detector_tools.config.calibration.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.vrf_scan_exptime">
<code class="descname">vrf_scan_exptime</code><em class="property"> = 0.1</em><a class="headerlink" href="#sls_detector_tools.config.calibration.vrf_scan_exptime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.vrs">
<code class="descname">vrs</code><em class="property"> = 1600</em><a class="headerlink" href="#sls_detector_tools.config.calibration.vrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.calibration.vtr">
<code class="descname">vtr</code><em class="property"> = 2500</em><a class="headerlink" href="#sls_detector_tools.config.calibration.vtr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sls_detector_tools.config.path">
<em class="property">class </em><code class="descclassname">sls_detector_tools.config.</code><code class="descname">path</code><a class="reference internal" href="_modules/sls_detector_tools/config.html#path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.config.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>All configuration regarding which path to write to or where to find
the slsDetectorsPackage.</p>
<dl class="attribute">
<dt id="sls_detector_tools.config.path.base">
<code class="descname">base</code><em class="property"> = '/home/l_frojdh'</em><a class="headerlink" href="#sls_detector_tools.config.path.base" title="Permalink to this definition">¶</a></dt>
<dd><p>Base directory for io</p>
</dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.path.data">
<code class="descname">data</code><em class="property"> = '/home/l_frojdh/data'</em><a class="headerlink" href="#sls_detector_tools.config.path.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.path.out">
<code class="descname">out</code><em class="property"> = '/home/l_frojdh/out'</em><a class="headerlink" href="#sls_detector_tools.config.path.out" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sls_detector_tools.config.path.test">
<code class="descname">test</code><em class="property"> = '/home/l_frojdh/code/scripts/testing'</em><a class="headerlink" href="#sls_detector_tools.config.path.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Output directory for module testing</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.config.set_log">
<code class="descclassname">sls_detector_tools.config.</code><code class="descname">set_log</code><span class="sig-paren">(</span><em>fname</em>, <em>level=20</em>, <em>stream=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/config.html#set_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.config.set_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-sls_detector_tools.io">
<span id="sls-detector-tools-io-module"></span><h2>sls_detector_tools.io module<a class="headerlink" href="#module-sls_detector_tools.io" title="Permalink to this headline">¶</a></h2>
<p>File io for the EIGER detector. General io that have not been changed is
kept in this file. While relese specific versions can be found in the v18 etc.
files. This numbering corresponds loosely to the firmware versions.</p>
<p>Current io version by default imported but can be changed in the config file</p>
<blockquote>
<div><ul class="simple">
<li>v18 - old style with ascii header</li>
<li>v19 - master file, no header</li>
<li>v20 - modified master file?</li>
</ul>
</div></blockquote>
<dl class="class">
<dt id="sls_detector_tools.io.geant4">
<em class="property">class </em><code class="descclassname">sls_detector_tools.io.</code><code class="descname">geant4</code><a class="reference internal" href="_modules/sls_detector_tools/io.html#geant4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.io.geant4" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class that holds the data type for reading x,y,c files from the
geant4medipix framework.</p>
<dl class="attribute">
<dt id="sls_detector_tools.io.geant4.sparse_dt">
<code class="descname">sparse_dt</code><em class="property"> = [('event', &lt;class 'numpy.uint32'&gt;), ('col', &lt;class 'numpy.uint32'&gt;), ('row', &lt;class 'numpy.uint32'&gt;), ('energy', &lt;class 'numpy.float64'&gt;), ('tot', &lt;class 'numpy.float64'&gt;), ('toa', &lt;class 'numpy.float64'&gt;)]</em><a class="headerlink" href="#sls_detector_tools.io.geant4.sparse_dt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.io.load_file">
<code class="descclassname">sls_detector_tools.io.</code><code class="descname">load_file</code><span class="sig-paren">(</span><em>fname</em>, <em>header</em>, <em>N=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/io.html#load_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.io.load_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load EIGER raw file and return image data as numpy 2D array
To be used as base for loading frames for single and multi module systems</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.io.load_frame">
<code class="descclassname">sls_detector_tools.io.</code><code class="descname">load_frame</code><span class="sig-paren">(</span><em>bname</em>, <em>run_id</em>, <em>frameindex=-1</em>, <em>N=1</em>, <em>shift=0</em>, <em>geometry='500k'</em>, <em>default=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/io.html#load_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.io.load_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Read one or several Eiger frames from a file. Default function to
read data form disk.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The function does always return the right size array and only prints
a warning if the file is missing. This is useful for example for the
9M if one or several files are missing.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bname</strong> (<em>str</em>) – base name of the file used for consructing master and port files</li>
<li><strong>frameindex</strong> (<em>int</em>) – index of the starting file for multi image files
None if not used. Changes the pattern of the filename</li>
<li><strong>N</strong> (<em>int</em>) – Number of frames to read</li>
<li><strong>shift</strong> (<em>int</em>) – Determines which d number to start reading at. Can be used to read
parts of a larger detector</li>
<li><strong>geometry</strong> (<em>str</em>) – the geometry of the detector. Name identifies both number of pixels
and layout.</li>
<li><strong>default</strong> (<em>number</em>) – default value if the pixels are not filled. Can be used to highligt
missing data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>data</strong> – data[row, col, N], of the same type as in the file or some cases
double.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpu_array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.io.load_txt">
<code class="descclassname">sls_detector_tools.io.</code><code class="descname">load_txt</code><span class="sig-paren">(</span><em>fname</em>, <em>delimiter='</em>, <em>'</em>, <em>data_type=&lt;class 'float'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/io.html#load_txt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.io.load_txt" title="Permalink to this definition">¶</a></dt>
<dd><p>Load variables from an ascii file function mainly used
for chip testing</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.io.read_frame">
<code class="descclassname">sls_detector_tools.io.</code><code class="descname">read_frame</code><span class="sig-paren">(</span><em>f</em>, <em>dr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/io.html#read_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.io.read_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a single frame from an open file</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.io.read_frame_header">
<code class="descclassname">sls_detector_tools.io.</code><code class="descname">read_frame_header</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/io.html#read_frame_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.io.read_frame_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and decode the frame header of a raw file</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.io.read_header">
<code class="descclassname">sls_detector_tools.io.</code><code class="descname">read_header</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/io.html#read_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.io.read_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the header from the master file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fname</strong> (<em>str</em>) – Filename of the master file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>header</strong> – Dictionary with the fields in the header file</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.io.read_trimbit_file">
<code class="descclassname">sls_detector_tools.io.</code><code class="descname">read_trimbit_file</code><span class="sig-paren">(</span><em>fname</em>, <em>ndacs=18</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/io.html#read_trimbit_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.io.read_trimbit_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a trimbit file and return the trimbits and dacs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> (<em>str</em>) – Filename for the trimbit file</li>
<li><strong>ndacs</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of dacs to expect in the trimbit file . Defaults to 18.
<a href="#id1"><span class="problematic" id="id2">*</span></a>Note that for old files it used to be 16 dacs8</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><ul class="simple">
<li><strong>tb</strong> (<em>numpy_array[row, col]</em>) – 2d array with trimbits</li>
<li><strong>dacs</strong> (<em>numpy_array[ndacs]</em>) – dacs stored in the trimbit file</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – If the file size is wrong</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Fileformat</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">dacs</span>     <span class="p">:</span> <span class="p">(</span><span class="n">int32</span><span class="p">)</span><span class="o">*</span><span class="n">ndacs</span>
<span class="n">trimbits</span> <span class="p">:</span> <span class="p">(</span><span class="n">int32</span><span class="p">)</span><span class="o">*</span><span class="mi">256</span><span class="o">*</span><span class="mi">1024</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.io.save_txt">
<code class="descclassname">sls_detector_tools.io.</code><code class="descname">save_txt</code><span class="sig-paren">(</span><em>fname</em>, <em>header</em>, <em>data</em>, <em>delimiter='</em>, <em>'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/io.html#save_txt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.io.save_txt" title="Permalink to this definition">¶</a></dt>
<dd><p>Save variables in an ascii file function mainly used
for chip testing</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.io.write_trimbit_file">
<code class="descclassname">sls_detector_tools.io.</code><code class="descname">write_trimbit_file</code><span class="sig-paren">(</span><em>fname</em>, <em>data</em>, <em>dacs</em>, <em>ndacs=18</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/io.html#write_trimbit_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.io.write_trimbit_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write trimbits and dacs to a file. The function checkes that you supply
18 dacs and 256*1024 (halfmodule) trimbits. But you can override the
number of dacs if you are writing files for an older software.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> (<em>str</em>) – Filename</li>
<li><strong>data</strong> (<em>numpy_array</em>) – Array wihth the trimbits</li>
<li><strong>dacs</strong> (<em>numpy_array</em>) – Array with the dacs</li>
<li><strong>ndacs</strong> (<em>int</em>) – The number of dacs to write to the trimbit file. Defaults to 18 which
is the current value. But was 16</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – If the size of the dacs is not the specified one</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – If the number of trimbits are not 256*1024 since everything is handled
as a half module in the slsDetectorSoftware</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-sls_detector_tools.load_tiff">
<span id="sls-detector-tools-load-tiff-module"></span><h2>sls_detector_tools.load_tiff module<a class="headerlink" href="#module-sls_detector_tools.load_tiff" title="Permalink to this headline">¶</a></h2>
<p>Limited support for loading TIFF files from Python
Designed to work with the uXAS Eiger TIFF files
Currently only supports single image files…</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This module is not complete!!!</p>
</div>
<dl class="function">
<dt id="sls_detector_tools.load_tiff.load_tiff">
<code class="descclassname">sls_detector_tools.load_tiff.</code><code class="descname">load_tiff</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/load_tiff.html#load_tiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.load_tiff.load_tiff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-sls_detector_tools.mask">
<span id="sls-detector-tools-mask-module"></span><h2>sls_detector_tools.mask module<a class="headerlink" href="#module-sls_detector_tools.mask" title="Permalink to this headline">¶</a></h2>
<p>General interface to select modules and chips from detectors
also holds some geometry information</p>
<p>Uses a dictionary to provide easy access to different geometries
trough the cfg.geometry setting.</p>
<dl class="class">
<dt id="sls_detector_tools.mask.eiger2M">
<em class="property">class </em><code class="descclassname">sls_detector_tools.mask.</code><code class="descname">eiger2M</code><a class="reference internal" href="_modules/sls_detector_tools/mask.html#eiger2M"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.mask.eiger2M" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>2M detector at ESRF, horizontal modules vertical stacking</p>
</dd></dl>

<dl class="class">
<dt id="sls_detector_tools.mask.eiger500k">
<em class="property">class </em><code class="descclassname">sls_detector_tools.mask.</code><code class="descname">eiger500k</code><a class="reference internal" href="_modules/sls_detector_tools/mask.html#eiger500k"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.mask.eiger500k" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Mask for Eiger500k module</p>
</dd></dl>

<dl class="class">
<dt id="sls_detector_tools.mask.eiger9M">
<em class="property">class </em><code class="descclassname">sls_detector_tools.mask.</code><code class="descname">eiger9M</code><a class="reference internal" href="_modules/sls_detector_tools/mask.html#eiger9M"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.mask.eiger9M" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>9M detector for cSAXS</p>
</dd></dl>

</div>
<div class="section" id="module-sls_detector_tools.module_tests">
<span id="sls-detector-tools-module-tests-module"></span><h2>sls_detector_tools.module_tests module<a class="headerlink" href="#module-sls_detector_tools.module_tests" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="sls_detector_tools.module_tests.analog_pulses">
<code class="descclassname">sls_detector_tools.module_tests.</code><code class="descname">analog_pulses</code><span class="sig-paren">(</span><em>name</em>, <em>d</em>, <em>clk=1</em>, <em>N=1000</em>, <em>plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/module_tests.html#analog_pulses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.module_tests.analog_pulses" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the analog side of the pixel using test pulses
Normally this test is run only using clock divider 1
It is normal to see cosmics in the final image</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.module_tests.counter">
<code class="descclassname">sls_detector_tools.module_tests.</code><code class="descname">counter</code><span class="sig-paren">(</span><em>name</em>, <em>d</em>, <em>clk=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/module_tests.html#counter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.module_tests.counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the digital counter logic.
Note this does not test the overflow</p>
<p>Test is done by toggeling enable:
1364 –&gt; 2730 –&gt; 101010101010
682 –&gt; 1366 –&gt; 010101010110</p>
<p>Using enable only increments of 2 in the
counter value is possible</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.module_tests.generate_report">
<code class="descclassname">sls_detector_tools.module_tests.</code><code class="descname">generate_report</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/module_tests.html#generate_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.module_tests.generate_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a report based on the contents in a folder
outputs a multipage pdf file</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.module_tests.io_delay">
<code class="descclassname">sls_detector_tools.module_tests.</code><code class="descname">io_delay</code><span class="sig-paren">(</span><em>name</em>, <em>d</em>, <em>clk=1</em>, <em>npulse=-1</em>, <em>plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/module_tests.html#io_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.module_tests.io_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to determine the settings for iodelay
npulses = -1 makes the test using a normal readout
npulses = 0 puts the threshold on the far side of noise</p>
<blockquote>
<div>but does not pulse</div></blockquote>
<p>npulse &gt; 0 pulses using enable</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.module_tests.overflow">
<code class="descclassname">sls_detector_tools.module_tests.</code><code class="descname">overflow</code><span class="sig-paren">(</span><em>name</em>, <em>d</em>, <em>clk=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/module_tests.html#overflow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.module_tests.overflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Overflow test using analog pulses</p>
<p>Unfortunatley the enable toggling cannot be used to check this because
of problems when going to overflow</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.module_tests.rx_bias">
<code class="descclassname">sls_detector_tools.module_tests.</code><code class="descname">rx_bias</code><span class="sig-paren">(</span><em>detector</em>, <em>clk='Full Speed'</em>, <em>npulse=1</em>, <em>plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/module_tests.html#rx_bias"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.module_tests.rx_bias" title="Permalink to this definition">¶</a></dt>
<dd><p>Scans rx bias and checks for each value if the data is read
out correctly. Uses testing with enable to load counter values.
Default number of pulses is 1. Probe station testing uses 721 pulses
721 (1444 counter value)</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.module_tests.tp_scurve">
<code class="descclassname">sls_detector_tools.module_tests.</code><code class="descname">tp_scurve</code><span class="sig-paren">(</span><em>name</em>, <em>d</em>, <em>clk=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/module_tests.html#tp_scurve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.module_tests.tp_scurve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-sls_detector_tools.plot">
<span id="sls-detector-tools-plot-module"></span><h2>sls_detector_tools.plot module<a class="headerlink" href="#module-sls_detector_tools.plot" title="Permalink to this headline">¶</a></h2>
<p>Plotting routines for displaying image sensor data using matplotlib and
seaborn. Some routines like the chip_histograms rely on PyROOT but the import
should work even without ROOT.</p>
<dl class="function">
<dt id="sls_detector_tools.plot.add_module_gaps">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">add_module_gaps</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#add_module_gaps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.add_module_gaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the gaps in a multi module system</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>image</strong> (<em>numpy_array</em>) – Image used for expanding</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>new_image</strong> – Image with the gaps inserted</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy_array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.plot.chip_histograms">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">chip_histograms</code><span class="sig-paren">(</span><em>data</em>, <em>xmin=0</em>, <em>xmax=2000</em>, <em>bins=400</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#chip_histograms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.chip_histograms" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a histogram per chip of the inflection point (fit_result[‘mu’])</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>numpy_array</em>) – numpy_array in type of fit_results with named fields</li>
<li><strong>xmin</strong> (<em>int</em><em>, </em><em>optional</em>) – Lover edge of the histogram</li>
<li><strong>xmax</strong> (<em>int</em><em>, </em><em>optional</em>) – Higher edge of the histogram</li>
<li><strong>bins</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of bins in the histogram</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.plot.draw_module_borders">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">draw_module_borders</code><span class="sig-paren">(</span><em>ax</em>, <em>vertical=False</em>, <em>half_module=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#draw_module_borders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.draw_module_borders" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw lines outlining the individual modules in the Eiger9M. Options as
well for half modules</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ax</strong> (<em>mpl.axes</em>) – axes of the image that should be drawn on</li>
<li><strong>vertical</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to False, set to True if the image is rotated to vertical
layout</li>
<li><strong>half_module</strong> (<em>bool</em>) – Defaults to False, set to True to also draw a line at the border
between half modules</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.plot.draw_module_names">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">draw_module_names</code><span class="sig-paren">(</span><em>ax</em>, <em>vertical=False</em>, <em>color='white'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#draw_module_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.draw_module_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out the names of the modules in the 9M image.
Names are fetched from sls_detector.config.Eiger9M</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ax</strong> (<em>mpl.axes</em>) – axes to draw the names on</li>
<li><strong>vertical</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to False, set to True if the image is rotated</li>
<li><strong>color</strong> (<em>str</em>) – Textcolor</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.plot.fix_large_pixels">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">fix_large_pixels</code><span class="sig-paren">(</span><em>image</em>, <em>interpolation=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#fix_large_pixels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.fix_large_pixels" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand and interpolate the values in large pixels at borders and in corners
Works on sigle module data with one or several frames</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.plot.global_scurve">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">global_scurve</code><span class="sig-paren">(</span><em>data</em>, <em>x</em>, <em>chip_divided=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#global_scurve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.global_scurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a global scurve and differential scurve for the data provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>numpy_array</em><em>[</em><em>row</em><em>, </em><em>col</em><em>, </em><em>N</em><em>]</em>) – Data to plot</li>
<li><strong>x</strong> (<em>numpy_array</em><em>[</em><em>N</em><em>]</em>) – Data for the x axis</li>
<li><strong>chip_divided</strong> (<em>bool</em>) – Plot each chip seperate</li>
<li><strong>Returns</strong> – <dl class="docutils">
<dt>x: numpy_array</dt>
<dd>xaxis data, usually threshold</dd>
<dt>y: numpy_array</dt>
<dd>summed counts per step</dd>
</dl>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Chip divided plot is only implemented for a single module</p>
</div>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.plot.imshow">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">imshow</code><span class="sig-paren">(</span><em>data</em>, <em>cmap='coolwarm'</em>, <em>log=False</em>, <em>draw_asics=False</em>, <em>asic_color='white'</em>, <em>asic_linewidth=2</em>, <em>figsize=(16</em>, <em>10)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#imshow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.imshow" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot an image with colorbar</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>2d numpy_array</em>) – Image data</li>
<li><strong>cmap</strong> (<a class="reference internal" href="#sls_detector_tools.config.calibration.std" title="sls_detector_tools.config.calibration.std"><em>std</em></a>) – Name of the colormap that should be used for the plot. Default is
coolwarm</li>
<li><strong>log</strong> (<em>bool</em>) – If True apply a logaritmical colorscale</li>
<li><strong>draw_asics</strong> (<em>bool</em>) – Draw the edges of the asic in the module Warning this currently
only works for single modules</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><ul class="simple">
<li><strong>ax</strong> (<em>mpl.axes</em>) – Matplotlib axes object</li>
<li><strong>im</strong> (<em>mppl.image</em>) – Matplotlib image</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – If the size of x and y is not the same</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.plot.interpolate_pixel">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">interpolate_pixel</code><span class="sig-paren">(</span><em>pixel</em>, <em>data</em>, <em>pixelmask</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#interpolate_pixel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.interpolate_pixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the interpolated value in pixel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pixel</strong> (<em>int</em><em>, </em><em>int</em>) – Index of the pixel to interpolate</li>
<li><strong>data</strong> (<em>numpy_array</em>) – The image to use for interpolation</li>
<li><strong>pixelmask</strong> (<em>numpy_array</em><em>(</em><em>bool</em><em>)</em>) – True for pixels that should be skipped.</li>
<li><strong>Returns</strong> – </li>
<li><strong>value</strong> (<em>double</em>) – The value of the interpolated pixel</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.plot.plot_pixel_fit">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">plot_pixel_fit</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>par</em>, <em>px</em>, <em>figure=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#plot_pixel_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.plot_pixel_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the fit of a single pixel, given parameters and values</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.plot.plot_signals">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">plot_signals</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#plot_signals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.plot_signals" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a set of digital signals in one plot. Expects a named numpy
array as input.</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.plot.random_pixels">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">random_pixels</code><span class="sig-paren">(</span><em>data</em>, <em>x</em>, <em>n_pixels=5</em>, <em>rows=(0</em>, <em>512)</em>, <em>cols=(0</em>, <em>1024)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#random_pixels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.random_pixels" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot data from random pixels</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>numpy_array</em><em>[</em><em>row</em><em>, </em><em>col</em><em>, </em><em>n</em><em>]</em>) – Detector data</li>
<li><strong>n_pixels</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of pixels to plot. Defaults to 5</li>
<li><strong>rows</strong> (<em>tuple</em>) – Sets max and min row</li>
<li><strong>cols</strong> (<em>tuple</em>) – Sets max and min row</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.plot.setup_plot">
<code class="descclassname">sls_detector_tools.plot.</code><code class="descname">setup_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/plot.html#setup_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.plot.setup_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup seaborn and matplotlib for nice plots. This function uses sns.set()
then sets style to: <em>talk</em> and font scale 1.2 for better readability.</p>
</dd></dl>

</div>
<div class="section" id="module-sls_detector_tools.receiver">
<span id="sls-detector-tools-receiver-module"></span><h2>sls_detector_tools.receiver module<a class="headerlink" href="#module-sls_detector_tools.receiver" title="Permalink to this headline">¶</a></h2>
<p>Created on Wed Nov 22 10:52:12 2017</p>
<p>&#64;author: l_frojdh</p>
<dl class="class">
<dt id="sls_detector_tools.receiver.ZmqReceiver">
<em class="property">class </em><code class="descclassname">sls_detector_tools.receiver.</code><code class="descname">ZmqReceiver</code><span class="sig-paren">(</span><em>ip</em>, <em>ports</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/receiver.html#ZmqReceiver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.receiver.ZmqReceiver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Simple receiver that reads data from zmq streams and put this together
to an image.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Currently only Eiger500k</p>
</div>
<p>expects:
json - header
data - as specified in header
json - end of acq</p>
<dl class="method">
<dt id="sls_detector_tools.receiver.ZmqReceiver.get_frame">
<code class="descname">get_frame</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/receiver.html#ZmqReceiver.get_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.receiver.ZmqReceiver.get_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Read one frame from the streams</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sls_detector_tools.utils">
<span id="sls-detector-tools-utils-module"></span><h2>sls_detector_tools.utils module<a class="headerlink" href="#module-sls_detector_tools.utils" title="Permalink to this headline">¶</a></h2>
<p>Various functions that might come in handy but doesn’t really
fit well into a specific block</p>
<dl class="function">
<dt id="sls_detector_tools.utils.R">
<code class="descclassname">sls_detector_tools.utils.</code><code class="descname">R</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/utils.html#R"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.utils.R" title="Permalink to this definition">¶</a></dt>
<dd><p>Quality measurement for one refelction spot. To be used with
a numpy array having the number of counts for a simulated
or measured spot</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.utils.generate_scurve">
<code class="descclassname">sls_detector_tools.utils.</code><code class="descname">generate_scurve</code><span class="sig-paren">(</span><em>x</em>, <em>n_photons</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/utils.html#generate_scurve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.utils.generate_scurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an scurve with some typical parameters</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.utils.get_dtype">
<code class="descclassname">sls_detector_tools.utils.</code><code class="descname">get_dtype</code><span class="sig-paren">(</span><em>dr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/utils.html#get_dtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.utils.get_dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the correct numpy dtype from a number or string</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.utils.normalize_flatfield">
<code class="descclassname">sls_detector_tools.utils.</code><code class="descname">normalize_flatfield</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/utils.html#normalize_flatfield"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.utils.normalize_flatfield" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a normalized flatfield image based on the current image</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.utils.random_pixel">
<code class="descclassname">sls_detector_tools.utils.</code><code class="descname">random_pixel</code><span class="sig-paren">(</span><em>n_pixels=1</em>, <em>rows=(0</em>, <em>512)</em>, <em>cols=(0</em>, <em>1024)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/utils.html#random_pixel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.utils.random_pixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a list of random pixels with the default beeing one
pixel in a single module</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>n_pixels</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of  pixels to return</li>
<li><strong>rows</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – Lower and upper bounds for the rows</li>
<li><strong>cols</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – Lower and upper bounds for the cols</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul>
<li><p class="first"><strong>pixels</strong> (<em>list of tuples</em>) – List of the pixels [(row, col), (…)]</p>
</li>
<li><p class="first"><em>Examples</em></p>
</li>
<li><p class="first"><em>———</em></p>
</li>
<li><p class="first"><em>::</em> – random_pixel()
&gt;&gt; [(151, 30)]</p>
<p>random_pixel(n_pixels = 3)
&gt;&gt; [(21, 33), (65, 300), (800,231)]</p>
</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.utils.ratecorr">
<code class="descclassname">sls_detector_tools.utils.</code><code class="descname">ratecorr</code><span class="sig-paren">(</span><em>values</em>, <em>tau</em>, <em>exptime</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/utils.html#ratecorr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.utils.ratecorr" title="Permalink to this definition">¶</a></dt>
<dd><p>perform rate correction on a numpy array given tau and expsure time
values above the maximum possible will be replaced with the maximum</p>
<p>data = data to correct
tau = dead time ns
exptime = exposuretime in s</p>
</dd></dl>

<dl class="function">
<dt id="sls_detector_tools.utils.sum_array">
<code class="descclassname">sls_detector_tools.utils.</code><code class="descname">sum_array</code><span class="sig-paren">(</span><em>data</em>, <em>sum_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/utils.html#sum_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.utils.sum_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum evry sum_size element of a numpy array and return the
summed array.</p>
<p>data = 1d numpy array
sum_size = number of consecutive elements to sum</p>
</dd></dl>

</div>
<div class="section" id="module-sls_detector_tools.xray_box">
<span id="sls-detector-tools-xray-box-module"></span><h2>sls_detector_tools.xray_box module<a class="headerlink" href="#module-sls_detector_tools.xray_box" title="Permalink to this headline">¶</a></h2>
<p>Module to control the big xray box at PSI. Communicates using the command line
to the <em>/afs/psi.ch/project/sls_det_software/bin/xrayClient64</em>. Provides a
DummyBox that only writes the commands to the log file without doing anything.</p>
<dl class="class">
<dt id="sls_detector_tools.xray_box.DummyBox">
<em class="property">class </em><code class="descclassname">sls_detector_tools.xray_box.</code><code class="descname">DummyBox</code><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#DummyBox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.DummyBox" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Dummy version of the XrayBox. Can be used for testing or when using
an X-ray source that is not control but you don’t want to modify
you calibration scripts</p>
<dl class="method">
<dt id="sls_detector_tools.xray_box.DummyBox.HV">
<code class="descname">HV</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#DummyBox.HV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.DummyBox.HV" title="Permalink to this definition">¶</a></dt>
<dd><p>Emulating High Voltage on and off</p>
</dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.DummyBox.get_kV">
<code class="descname">get_kV</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#DummyBox.get_kV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.DummyBox.get_kV" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.DummyBox.get_mA">
<code class="descname">get_mA</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#DummyBox.get_mA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.DummyBox.get_mA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.DummyBox.set_kV">
<code class="descname">set_kV</code><span class="sig-paren">(</span><em>kV</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#DummyBox.set_kV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.DummyBox.set_kV" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.DummyBox.set_mA">
<code class="descname">set_mA</code><span class="sig-paren">(</span><em>mA</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#DummyBox.set_mA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.DummyBox.set_mA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.DummyBox.shutter">
<code class="descname">shutter</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#DummyBox.shutter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.DummyBox.shutter" title="Permalink to this definition">¶</a></dt>
<dd><p>Write opening shutter to logfile</p>
</dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.DummyBox.shutter_open">
<code class="descname">shutter_open</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#DummyBox.shutter_open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.DummyBox.shutter_open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.DummyBox.target">
<code class="descname">target</code><span class="sig-paren">(</span><em>t</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#DummyBox.target"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.DummyBox.target" title="Permalink to this definition">¶</a></dt>
<dd><p>Write target name to logfile</p>
</dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.DummyBox.unlock">
<code class="descname">unlock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#DummyBox.unlock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.DummyBox.unlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Write unlock to the logfile</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sls_detector_tools.xray_box.XrayBox">
<em class="property">class </em><code class="descclassname">sls_detector_tools.xray_box.</code><code class="descname">XrayBox</code><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#XrayBox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.XrayBox" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Wrapper around the xrayClient64, uses the executable from afs, make sure
that you have access. Supports logging of commands using the python logger.</p>
<p>TODO! Inspect return values to look for errors</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires access to afs</p>
</div>
<dl class="method">
<dt id="sls_detector_tools.xray_box.XrayBox.HV">
<code class="descname">HV</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#XrayBox.HV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.XrayBox.HV" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch on the high voltage is True otherwise switch off</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>bool</em>) – True for on, False for off</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.XrayBox.get_kV">
<code class="descname">get_kV</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#XrayBox.get_kV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.XrayBox.get_kV" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the tube voltage</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>kV</strong> – Voltage of the tube in kV</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.XrayBox.get_mA">
<code class="descname">get_mA</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#XrayBox.get_mA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.XrayBox.get_mA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.XrayBox.set_kV">
<code class="descname">set_kV</code><span class="sig-paren">(</span><em>kV</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#XrayBox.set_kV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.XrayBox.set_kV" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the kV of the tube</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kV</strong> (<em>int</em>) – Voltage of the tube in kV</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.XrayBox.set_mA">
<code class="descname">set_mA</code><span class="sig-paren">(</span><em>mA</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#XrayBox.set_mA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.XrayBox.set_mA" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the tube current in mA</p>
</dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.XrayBox.shutter">
<code class="descname">shutter</code><span class="sig-paren">(</span><em>value</em>, <em>sh=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#XrayBox.shutter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.XrayBox.shutter" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the shutter th if value is True otherwise close shutter sh</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<em>bool</em>) – True for on, False for off</li>
<li><strong>sh</strong> (<em>int</em><em>, </em><em>optional</em>) – 1 for XRF, 3 for direct beam</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.XrayBox.target">
<code class="descname">target</code><span class="sig-paren">(</span><em>target_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#XrayBox.target"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.XrayBox.target" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target of the xray box</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>target_name</em><em>, </em><em>str</em>) – Two letter name of the target: Ti, Sc, Fe etc.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>t_set</strong> – The name of the set target</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sls_detector_tools.xray_box.XrayBox.unlock">
<code class="descname">unlock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sls_detector_tools/xray_box.html#XrayBox.unlock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sls_detector_tools.xray_box.XrayBox.unlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Unlock the control from another user</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sls_detector_tools">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-sls_detector_tools" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, SLS Detector Group.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'pre-alpha',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>